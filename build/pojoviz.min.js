!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof global?o=global:"undefined"!=typeof self&&(o=self),o.pojoviz=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"dagre":[function(_dereq_,module,exports){
module.exports=_dereq_('JWa/F1');
},{}],"lodash":[function(_dereq_,module,exports){
module.exports=_dereq_('K2RcUv');
},{}],"q":[function(_dereq_,module,exports){
module.exports=_dereq_('qLuPo1');
},{}],4:[function(_dereq_,module,exports){
function eachObjectAndPrototype(t,e){e(t),t.hasOwnProperty("prototype")&&e(t.prototype)}function wrapFn(t,e){return function(){e.call(this);var n=[].slice.call(arguments);return t.apply(this,n)}}function isObjectOrFunction(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)}function Analyzer(t){return this instanceof Analyzer?(t=t||{},this.objects=t.objects||new HashMap,this.forbidden=t.forbidden||new HashMap,this.__cacheObjects={},this.__cacheLinks={},this.levels=1/0,this.dirty=!0,this.cache=t.hasOwnProperty("cache")?t.cache:!0,this.functionConstructors=t.hasOwnProperty("functionConstructors")?t.functionConstructors:!1,this.allFunctions=t.hasOwnProperty("allFunctions")?t.allFunctions:!1,void(this.htmlNode=t.hasOwnProperty("htmlNode")?t.htmlNode:!1)):new Analyzer(t)}var HashMap=_dereq_("./util/HashMap"),hashKey=_dereq_("./util/hashKey"),_=_dereq_("lodash"),forbiddenInStrictMode=["callee","caller","arguments"];Analyzer.prototype={constructor:Analyzer,isForbidden:function(t){return this.forbidden.get(t)},isLinkable:function(t,e){if(!e)return!1;var n="object"==typeof e;return!n&&this.allFunctions&&(n="function"==typeof e,n=n&&Object.getOwnPropertyNames(e).length>5),!n&&this.functionConstructors&&(n="function"==typeof e,n=n&&(e.name&&e.name[0].match(/^[A-Z]/)||t[0].match(/^[A-Z]/))),n},getProperties:function(t,e){function n(t){return~forbiddenInStrictMode.indexOf(t)||t.match(/^__.*?__$/)||t.match(/^\$\$.*?\$\$$/)||t.match(/[:+~!><=//\[\]@ ]/)}var r,o=this,i=hashKey(t);if(!t)throw"this method needs an object to analyze";if(this.cache&&!e&&this.__cacheObjects[i])return this.__cacheObjects[i];r=Object.getOwnPropertyNames(t),r=_.filter(r,function(r){var i,s="string"==typeof r&&!n(r);if(e)try{i=s&&o.isLinkable(r,t[r])}catch(a){i=!1}finally{return i}return s}).map(function(e){var n,r;try{n=typeof t[e],r=isObjectOrFunction(t[e])}catch(o){n="undefined",r=!1}return{name:e,type:n,linkeable:r}});var s=Object.getPrototypeOf(t);s&&r.push({name:"[[Prototype]]",type:"object",linkeable:!0,hidden:!0});var a=t.hasOwnProperty&&t.hasOwnProperty("constructor")&&"function"==typeof t.constructor;return a&&-1===_.findIndex(r,{name:"constructor"})&&r.push({name:"constructor",type:"function",linkeable:!0}),this.cache&&!e&&(this.__cacheObjects[i]=r),r},analyzeObjects:function(t,e){var n=this;t.forEach(function(t){e<=n.levels&&!n.objects.get(t)&&!n.isForbidden(t)&&(n.objects.put(t),n.analyzeObjects(n.getOwnLinks(t).map(function(t){return t.to}),e+1))})},getOwnLinks:function(t){function e(t,e){return hashKey.has(t)||"prototype"===e||"constructor"===e||hashKey.createHashKeysFor(t,e),hashKey(t)}var n,r=this,o=[],i=hashKey(t);if(this.__cacheLinks[i])return this.__cacheLinks[i];if(n=r.getProperties(t,!0),!i)throw"the object needs to have a hashkey";_.forEach(n,function(n){var i=t[n.name];i&&(e(i,n.name),r.isForbidden(i)||o.push({from:t,fromHash:hashKey(t),to:i,toHash:hashKey(i),property:n.name}))});var s=Object.getPrototypeOf(t);return s&&!r.isForbidden(s)&&o.push({from:t,fromHash:hashKey(t),to:s,toHash:hashKey(s),property:"[[Prototype]]"}),this.cache&&(this.__cacheLinks[i]=o),o},makeDirty:function(){this.dirty=!0},setLevels:function(t){this.levels=t},setDirty:function(t){this.dirty=t},setFunctionConstructors:function(t){this.functionConstructors=t},getObjects:function(){return this.objects},stringifyObjectProperties:function(t){return this.getProperties(t)},stringifyObjectLinks:function(t){var e=this;return e.getOwnLinks(t).map(function(t){return{from:t.fromHash,to:t.toHash,property:t.property}})},stringify:function(){var t=this,e={},n={};return console.time("stringify"),_(this.objects).forOwn(function(r){e[hashKey(r)]=t.stringifyObjectProperties(r),n[hashKey(r)]=t.stringifyObjectLinks(r)}),console.timeEnd("stringify"),{nodes:e,edges:n}}};var aProto=Analyzer.prototype;_.merge(aProto,{add:wrapFn(function(t){return console.time("analyze"),this.analyzeObjects(t,0),console.timeEnd("analyze"),this},aProto.makeDirty),remove:wrapFn(function(t,e){var n=this;return t.forEach(function(t){n.objects.remove(t),e&&t.hasOwnProperty("prototype")&&n.objects.remove(t.prototype)}),n},aProto.makeDirty),forbid:wrapFn(function(t,e){var n=this;n.remove(t,e),t.forEach(function(t){n.forbidden.put(t),e&&t.hasOwnProperty("prototype")&&n.forbidden.put(t.prototype)})},aProto.makeDirty),unforbid:wrapFn(function(t,e){var n=this;t.forEach(function(t){n.forbidden.remove(t),e&&t.hasOwnProperty("prototype")&&n.forbidden.remove(t.prototype)})},aProto.makeDirty)}),module.exports=Analyzer;
//# sourceMappingURL=pojoviz.map.json
},{"./util/HashMap":12,"./util/hashKey":13,"lodash":"K2RcUv"}],5:[function(_dereq_,module,exports){
"use strict";var _=_dereq_("lodash"),Generic=_dereq_("./analyzer/GenericAnalyzer"),Angular=_dereq_("./analyzer/Angular"),Window=_dereq_("./analyzer/Window"),PObject=_dereq_("./analyzer/Object"),BuiltIn=_dereq_("./analyzer/BuiltIn"),libraries,proto={createNew:function(r,e){return console.log("creating a generic container for: "+r,e),libraries[r]=new Generic(e)},all:function(r){_.forOwn(libraries,r)},markDirty:function(){return proto.all(function(r){r.markDirty()}),proto},setFunctionConstructors:function(r){return proto.all(function(e){e._hasfc||e.analyzer.setFunctionConstructors(r)}),proto}};libraries=Object.create(proto),_.merge(libraries,{object:new PObject,builtIn:new BuiltIn,window:new Window,angular:new Angular,three:new Generic({global:"THREE",rendereachtime:!0})}),module.exports=libraries;
//# sourceMappingURL=pojoviz.map.json
},{"./analyzer/Angular":6,"./analyzer/BuiltIn":7,"./analyzer/GenericAnalyzer":8,"./analyzer/Object":9,"./analyzer/Window":10,"lodash":"K2RcUv"}],6:[function(_dereq_,module,exports){
"use strict";function Angular(){GenericAnalyzer.call(this,{global:"angular",displayname:"AngularJS",rendereachtime:!0}),this.services=["$animate","$cacheFactory","$compile","$controller","$exceptionHandler","$filter","$http","$httpBackend","$interpolate","$interval","$locale","$log","$parse","$q","$rootScope","$sce","$sceDelegate","$templateCache","$timeout"].map(function(e){return{checked:!0,name:e}})}var GenericAnalyzer=_dereq_("./GenericAnalyzer"),hashKey=_dereq_("../util/hashKey");Angular.prototype=Object.create(GenericAnalyzer.prototype),Angular.prototype.getSelectedServices=function(){var e=this,a=[];return window.angular.module("app",["ng"]),this.injector=window.angular.injector(["app"]),e.services.forEach(function(r){if(r.checked){var t=e.injector.get(r.name);hashKey.createHashKeysFor(t,r.name),a.push(t)}}),a},Angular.prototype.inspectSelf=function(){console.log("inspecting angular"),hashKey.createHashKeysFor(window.angular,"angular"),this.analyzer.getObjects().empty(),this.analyzer.add([window.angular].concat(this.getSelectedServices()))},module.exports=Angular;
//# sourceMappingURL=pojoviz.map.json
},{"../util/hashKey":13,"./GenericAnalyzer":8}],7:[function(_dereq_,module,exports){
"use strict";function BuiltIn(){GenericAnalyzer.call(this)}var GenericAnalyzer=_dereq_("./GenericAnalyzer"),utils=_dereq_("../util"),toInspect=[Object,Function,Array,Date,Boolean,Number,Math,String,RegExp,JSON,Error];BuiltIn.prototype=Object.create(GenericAnalyzer.prototype),BuiltIn.prototype.inspectSelf=function(){console.log("inspecting builtIn objects"),this.analyzer.add(this.getObjects())},BuiltIn.prototype.getObjects=function(){return toInspect},BuiltIn.prototype.showSearch=function(e,t){var n="https://developer.mozilla.org/en-US/search?"+utils.toQueryString({q:encodeURIComponent(e+" "+t)});window.open(n)},module.exports=BuiltIn;
//# sourceMappingURL=pojoviz.map.json
},{"../util":14,"./GenericAnalyzer":8}],8:[function(_dereq_,module,exports){
"use strict";function GenericAnalyzer(e){e=e||{},this.global=e.global,this.displayname=e.displayname,this.levels=e.hasOwnProperty("levels")?e.levels:10,this.forbidden=e.forbidden||[],this.src=e.src,this._hasfc=e.hasOwnProperty("functionconstructors"),this.functionconstructors=this._hasfc?e.functionconstructors:GenericAnalyzer.SHOW_FUNCTION_CONSTRUCTORS,this.rendereachtime=e.hasOwnProperty("rendereachtime")?e.rendereachtime:!1,this.allfunctions=e.hasOwnProperty("allfunctions")?e.allfunctions:!1,this.inspected=!1,this.parse(),this.analyzer=analyzer({functionConstructors:this.functionconstructors,allFunctions:this.allfunctions})}var Q=_dereq_("q"),_=_dereq_("lodash"),utils=_dereq_("../util/"),hashKey=_dereq_("../util/hashKey"),analyzer=_dereq_("../ObjectAnalyzer"),searchEngine="https://duckduckgo.com/?q=";GenericAnalyzer.SHOW_BUILTIN=!1,GenericAnalyzer.SHOW_FUNCTION_CONSTRUCTORS=!0,GenericAnalyzer.FORBIDDEN="pojoviz:window,pojoviz:builtIn,document",GenericAnalyzer.prototype.init=function(){var e=this;return console.log("%cPojoViz","font-size: 15px; color: "),e.fetch().then(function(){return(e.rendereachtime||!e.inspected)&&e.inspect(),e})},GenericAnalyzer.prototype.parse=function(){"string"==typeof this.forbidden&&(this.forbidden=this.forbidden.split(",")),"string"==typeof this.functionconstructors&&(this.functionconstructors="true"===this.functionconstructors),"string"==typeof this.rendereachtime&&(this.rendereachtime="true"===this.rendereachtime),"string"==typeof this.allfunctions&&(this.allfunctions="true"===this.allfunctions)},GenericAnalyzer.prototype.markDirty=function(){this.inspected=!1},GenericAnalyzer.prototype.inspectSelf=function(){console.log("analyzing window."+this.global);var e=this.analyzer,n=[].concat(this.forbidden);hashKey.createHashKeysFor(window[this.global],this.global),e.getObjects().empty(),e.forbidden.empty(),e.setLevels(this.levels),GenericAnalyzer.SHOW_BUILTIN||(n=n.concat(GenericAnalyzer.FORBIDDEN.split(","))),n.forEach(function(n){var t,r;n.indexOf("pojoviz:")?t=[window[n]]:(r=n.split(":"),t=_dereq_("../ObjectHashes")[r[1]].getObjects()),console.log("forbidding: ",t),e.forbid(t,!0)}),e.add([window[this.global]])},GenericAnalyzer.prototype.markInspected=function(){return this.inspected=!0,this},GenericAnalyzer.prototype.inspect=function(){this.markInspected().inspectSelf()},GenericAnalyzer.prototype.preRender=function(){},GenericAnalyzer.prototype.fetch=function(){function e(){return window[r.global]}function n(n){return function(){utils.notification("fetching script "+n,!0);var r=Q.defer();return t=document.createElement("script"),t.src=n,t.onload=function(){utils.notification("completed script "+n,!0),r.resolve(e())},document.head.appendChild(t),r.promise}}var t,r=this;if(this.src){if(!e()){var i=this.src.split("|");return i.reduce(function(e,t){return e.then(n(t))},Q("reduce"))}console.log("resource already fetched "+this.src)}return Q(!0)},GenericAnalyzer.prototype.showSearch=function(e,n){var t=this;window.open(_.template("${searchEngine}${lucky}${libraryName} ${nodeName} ${nodeProperty}",{searchEngine:searchEngine,lucky:GenericAnalyzer.lucky?"!ducky":"",libraryName:t.displayname||t.global,nodeName:e,nodeProperty:n}))},module.exports=GenericAnalyzer;
//# sourceMappingURL=pojoviz.map.json
},{"../ObjectAnalyzer":4,"../ObjectHashes":5,"../util/":14,"../util/hashKey":13,"lodash":"K2RcUv","q":"qLuPo1"}],9:[function(_dereq_,module,exports){
"use strict";function PObject(){GenericAnalyzer.call(this)}var GenericAnalyzer=_dereq_("./GenericAnalyzer"),utils=_dereq_("../util");PObject.prototype=Object.create(GenericAnalyzer.prototype),PObject.prototype.inspectSelf=function(){console.log("inspecting Object objects"),this.analyzer.add(this.getObjects())},PObject.prototype.getObjects=function(){return[Object]},module.exports=PObject;
//# sourceMappingURL=pojoviz.map.json
},{"../util":14,"./GenericAnalyzer":8}],10:[function(_dereq_,module,exports){
"use strict";function Window(){GenericAnalyzer.call(this,{levels:1,rendereachtime:!0,functionconstructors:!1})}var _=_dereq_("lodash"),hashKey=_dereq_("../util/hashKey"),GenericAnalyzer=_dereq_("./GenericAnalyzer"),toInspect=[window];Window.prototype=Object.create(GenericAnalyzer.prototype),Window.prototype.getObjects=function(){return toInspect},Window.prototype.inspectSelf=function(){console.log("inspecting window");var e=this,t=_dereq_("../ObjectHashes");_.forOwn(t,function(t){t.global&&window[t.global]&&e.analyzer.forbid([window[t.global]],!0)}),this.analyzer.getObjects().empty(),this.analyzer.setLevels(this.levels),this.analyzer.add(e.getObjects())},module.exports=Window;
//# sourceMappingURL=pojoviz.map.json
},{"../ObjectHashes":5,"../util/hashKey":13,"./GenericAnalyzer":8,"lodash":"K2RcUv"}],11:[function(_dereq_,module,exports){
function process(){var e,r=new dagre.Digraph,n=container.analyzer,o=n.stringify(),t=o.nodes,i=o.edges;_.forOwn(t,function(n,o){var t=o.match(/\S*?-(.*)/)[1];e={label:o,width:10*t.length},e.height=15*n.length+50,e.properties=n,n.forEach(function(r){e.width=Math.max(e.width,10*r.name.length)}),r.addNode(o,e)}),_.forOwn(i,function(e){e.forEach(function(e){r.hasNode(e.from)&&r.hasNode(e.to)&&r.addEdge(null,e.from,e.to)})});var a=dagre.layout().nodeSep(30).run(r),c=[],s=[],d={x:0,y:0},l={x:1/0,y:1/0},u={x:-1/0,y:-1/0},h=r.nodes().length;return a.eachNode(function(n,o){var t=o.x,i=o.y;e=r.node(n),e.x=t,e.y=i,e.predecessors=r.predecessors(n),e.successors=r.successors(n),c.push(e);var a=t-e.width/2,s=i-e.height/2,h=t+e.width/2,f=i+e.height/2;d.x+=t,d.y+=i,l.x=Math.min(l.x,a),l.y=Math.min(l.y,s),u.x=Math.max(u.x,h),u.y=Math.max(u.y,f)}),d.x/=h||1,d.y/=h||1,_(i).forOwn(function(e){e.forEach(function(e){r.hasNode(e.from)&&r.hasNode(e.to)&&s.push(e)})}),{edges:s,nodes:c,center:d,mn:l,mx:u}}function render(){var e;container!==oldContainer&&(utils.notification("processing "+container.global),oldRenderer&&oldRenderer.clean(),renderer.clean(),setTimeout(function(){container.preRender(),console.log("process & render start: ",new Date),console.time("process"),e=process(),console.timeEnd("process"),utils.notification("rendering "+container.global),console.time("render"),renderer.render(e),console.timeEnd("render"),utils.notification("complete!")},0))}var _=_dereq_("lodash"),Q=_dereq_("q"),dagre=_dereq_("dagre"),utils=_dereq_("./util/"),ObjectHashes=_dereq_("./ObjectHashes");Q.longStackSupport=!0;var container,oldContainer,oldRenderer,renderer,pojoviz;pojoviz={renderers:{},addRenderers:function(e){_.merge(pojoviz.renderers,e)},nullifyContainer:function(){oldContainer=container,container=null},getContainer:function(){return container},setContainer:function(e,r){return oldContainer=container,container=ObjectHashes[e],container?container.src=r.src:container=ObjectHashes.createNew(e,r),container.init()},setRenderer:function(e){oldRenderer=renderer,renderer=pojoviz.renderers[e]},getRenderer:function(){return renderer},render:render,ObjectHashes:_dereq_("./ObjectHashes"),ObjectAnalyzer:_dereq_("./ObjectAnalyzer"),analyzer:{GenericAnalyzer:_dereq_("./analyzer/GenericAnalyzer")},utils:_dereq_("./util"),userVariables:[]},document.addEventListener("property-click",function(e){var r=e.detail;pojoviz.getContainer().showSearch(r.name,r.property)}),module.exports=pojoviz;
//# sourceMappingURL=pojoviz.map.json
},{"./ObjectAnalyzer":4,"./ObjectHashes":5,"./analyzer/GenericAnalyzer":8,"./util":14,"./util/":14,"dagre":"JWa/F1","lodash":"K2RcUv","q":"qLuPo1"}],12:[function(_dereq_,module,exports){
"use strict";function HashMap(){}var hashKey=_dereq_("./hashKey");HashMap.prototype={put:function(e,t){this[hashKey(e)]=t||e},get:function(e){return this[hashKey(e)]},remove:function(e){var t=this[hashKey(e)];return delete this[hashKey(e)],t},empty:function(){var e,t=this;for(e in t)t.hasOwnProperty(e)&&delete this[e]}},module.exports=HashMap;
//# sourceMappingURL=pojoviz.map.json
},{"./hashKey":13}],13:[function(_dereq_,module,exports){
"use strict";function isObjectOrFunction(e){return e&&("object"==typeof e||"function"==typeof e)}function get(e){return assert(isObjectOrFunction(e),"obj must be an object|function"),e.hasOwnProperty&&e.hasOwnProperty(me.hiddenKey)&&e[me.hiddenKey]}function set(e,t){return assert(isObjectOrFunction(e),"obj must be an object|function"),assert(t&&"string"==typeof t,"The key needs to be a valid string"),get(e)||Object.defineProperty(e,me.hiddenKey,{value:typeof e+"-"+t}),me}var _=_dereq_("lodash"),assert=_dereq_("./").assert,me,hashKey;me=hashKey=function(e){var t=e;return isObjectOrFunction(e)?(get(e)||me.createHashKeysFor(e),t=get(e),t||console.err("no hashkey :(",e),assert(t,"error getting the key"),t):typeof e+"-"+t},me.hiddenKey="__pojoVizKey__",me.createHashKeysFor=function(e,t){function r(e){var t;try{t={}.toString.call(e).match(/^\[object (\S*?)\]/)}catch(r){t=!1}return t&&t[1]}function n(e){var t=r(e);return"Object"===t?e===Object.prototype&&"Object":t}function o(e){var t,r;return get(e)?get(e):(t="function"==typeof e&&"string"==typeof e.name&&e.name,r=n(e),!t&&r&&(t=r),t=t||_.uniqueId(),t=t.replace(/[\. ]/gim,"-"))}t=t||o(e),e.hasOwnProperty&&e.hasOwnProperty("constructor")&&"function"==typeof e.constructor&&e.constructor!==e&&me.createHashKeysFor(e.constructor),set(e,t),"function"==typeof e&&e.hasOwnProperty("prototype")&&set(e.prototype,t+"-prototype")},me.has=function(e){return e.hasOwnProperty&&e.hasOwnProperty(me.hiddenKey)},module.exports=me;
//# sourceMappingURL=pojoviz.map.json
},{"./":14,"lodash":"K2RcUv"}],14:[function(_dereq_,module,exports){
"use strict";var _=_dereq_("lodash"),propertiesTransformation={"[[Prototype]]":"__proto__"},utils={assert:function(t,r){if(!t)throw r||"error"},translate:function(t,r){return"translate("+(t||0)+", "+(r||0)+")"},scale:function(t){return"scale("+(t||1)+")"},transform:function(t){var r=[];return _.forOwn(t,function(t,n){r.push(utils[n].apply(utils,t))}),r.join(" ")},prefixer:function(){var t=[].slice.call(arguments);return t.unshift("pv"),t.join("-")},transformProperty:function(t){return propertiesTransformation.hasOwnProperty(t)?propertiesTransformation[t]:t},escapeCls:function(t){return t.replace(/\$/g,"_")},toQueryString:function(t){var r="",n=0;return _.forOwn(t,function(t,e){n&&(r+="&"),r+=e+"="+t,n+=1}),r},createEvent:function(t,r){return new CustomEvent(t,{detail:r})},notification:function(t,r){var n=utils.createEvent("pojoviz-notification",t);r&&console.log(t),document.dispatchEvent(n)},createJsonpCallback:function(t){var r=document.createElement("script");r.src=t,document.head.appendChild(r)}};module.exports=utils;
//# sourceMappingURL=pojoviz.map.json
},{"lodash":"K2RcUv"}]},{},[11])

(11)
});

//# sourceMappingURL=pojoviz.map.json